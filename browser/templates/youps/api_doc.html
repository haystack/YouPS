{% extends website|add:"/base.html" %}
{% block customcss %}

    <link rel="stylesheet" href="/static/javascript/third-party/sprinx/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="/static/javascript/third-party/sprinx/pygments.css" type="text/css" />
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Welcome to YouPS!" href="index2.html" />
   
    <link rel="stylesheet" href="/static/javascript/third-party/sprinx/custom.css" type="text/css" />
{% endblock %}
  

  {% block content %}
  <div class="document">
      
        <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
          <div class="sphinxsidebarwrapper">
  
  <p class="caption"><span class="caption-text">Contents:</span></p>
  <ul class="current">
  <li class="toctree-l1 current"><a class="current reference internal" href="#">YouPS documentation</a><ul>
  <li class="toctree-l2"><a class="reference internal" href="#message-object">Message object</a><ul>
  <li class="toctree-l3"><a class="reference internal" href="#property">Property</a></li>
  <li class="toctree-l3"><a class="reference internal" href="#events-handler">Events handler</a></li>
  </ul>
  </li>
  <li class="toctree-l2"><a class="reference internal" href="#contact-object">Contact object</a><ul>
  <li class="toctree-l3"><a class="reference internal" href="#id1">Property</a></li>
  <li class="toctree-l3"><a class="reference internal" href="#id2">Events handler</a></li>
  </ul>
  </li>
  <li class="toctree-l2"><a class="reference internal" href="#utility-methods">Utility methods</a></li>
  </ul>
  </li>
  </ul>
  
  <div class="relations">
  <h3>Related Topics</h3>
  <ul>
    <li><a href="index.html">Documentation overview</a><ul>
        <li>Previous: <a href="index.html" title="previous chapter">Welcome to YouPS!</a></li>
    </ul></li>
  </ul>
  </div>
  <script type="text/javascript">$('#searchbox').show(0);</script>
  
  
  
  
 

</div>
</div>
<div class="documentwrapper">
  <div class="bodywrapper">
    

    <div class="body" role="main">
      
<div class="section" id="youps-documentation">
<h1>YouPS documentation<a class="headerlink" href="#youps-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="message-object">
<h2>Message object<a class="headerlink" href="#message-object" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
<dl class="class">
<dt id="Message.Message">
<em class="property">class </em><code class="sig-prename descclassname">Message.</code><code class="sig-name descname">Message</code><span class="sig-paren">(</span><em class="sig-param">message_schema</em>, <em class="sig-param">imap_client</em>, <em class="sig-param">is_simulate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Message.Message.add_labels">
<code class="sig-name descname">add_labels</code><span class="sig-paren">(</span><em class="sig-param">labels</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.add_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Add each of the label in a list of flags to the message</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">add_labels</span><span class="p">([</span><span class="s2">&quot;Todo&quot;</span><span class="p">,</span> <span class="s2">&quot;Family&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd>
<dt>Args: </dt><dd><p>labels (string[]): a list of flags to be added</p>
</dd>
</dl>
<p>This method can also optionally take a single string as a flag.</p>
</dd></dl>

<dl class="method">
<dt id="Message.Message.aggregate_response">
<code class="sig-name descname">aggregate_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.aggregate_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate responses of messages in this thread and return a list of pairs of sender and their response</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">aggregate_response</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">someone1</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span><span class="p">,</span> <span class="s2">&quot;Hi all ...&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">someone2</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span><span class="p">,</span> <span class="s2">&quot;Dear all, ...&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</dd>
<dt>Returns:</dt><dd><p>t.List[(Contact, t.AnyStr)]: pairs of sender and their response</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.bcc">
<em class="property">property </em><code class="sig-name descname">bcc</code><a class="headerlink" href="#Message.Message.bcc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Contacts the message is bcced to</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">bcc</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">someone1</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span><span class="p">,</span> <span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">someone2</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt>Returns:</dt><dd><p>t.List[Contact]: The contacts in the bcc field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.cc">
<em class="property">property </em><code class="sig-name descname">cc</code><a class="headerlink" href="#Message.Message.cc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Contacts the message is cced to</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Contact]: The contacts in the cc field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.contains">
<code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>check if a string is contained in the content of a message</p>
<dl class="simple">
<dt>Args:</dt><dd><p>string (str): string to check for</p>
</dd>
<dt>Returns:</dt><dd><p>bool: true if the passed in string is in the message content</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.content">
<em class="property">property </em><code class="sig-name descname">content</code><a class="headerlink" href="#Message.Message.content" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the content of the message</p>
<p>See also Message.contains</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>dict {‘text’: t.AnyStr, ‘html’: t.AnyStr}: The content of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><em class="sig-param">dst_folder</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the message to another folder.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>dst_folder (str): a name of destination folder</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.date">
<em class="property">property </em><code class="sig-name descname">date</code><a class="headerlink" href="#Message.Message.date" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the date and time that the message was sent</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>datetime: The date and time the message was sent</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.deadline">
<em class="property">property </em><code class="sig-name descname">deadline</code><a class="headerlink" href="#Message.Message.deadline" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the user-defined deadline of the message (Mutable). When the specified date time is come, user’s deadline handler will be executed.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>datetime: The deadline</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param">slient=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Move this message to your trash folder</p>
</dd></dl>

<dl class="method">
<dt id="Message.Message.extract_response">
<code class="sig-name descname">extract_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.extract_response" title="Permalink to this definition">¶</a></dt>
<dd><p>For the thread messages, only take out a body of <em>this message</em> without previous headers and contetns</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.AnyStr: extracted contents without previous messages contents in the thread</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.extract_time_entity">
<code class="sig-name descname">extract_time_entity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.extract_time_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>return any time entity (e.g., tomorrow, 3/24 2pm) mentioned in this message body using NLP</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[“body”: t.AnyStr, “start”: datetime, “end”: datetime]: list of {“body”: “text of the time entity” (string), “start”: “starting time” (datetime), “end”: “ending time” (datetime)}</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.flags">
<em class="property">property </em><code class="sig-name descname">flags</code><a class="headerlink" href="#Message.Message.flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the flags on the message</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>List(str): List of flags on the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.folder">
<em class="property">property </em><code class="sig-name descname">folder</code><a class="headerlink" href="#Message.Message.folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Folder the message is contained in</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Folder: the folder that the message is contained in</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">to=[]</em>, <em class="sig-param">cc=[]</em>, <em class="sig-param">bcc=[]</em>, <em class="sig-param">subject=''</em>, <em class="sig-param">content=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>forward a message</p>
<dl class="simple">
<dt>Args:</dt><dd><p>to (str): 
cc (str): 
bcc (str): 
subject (str): if none is given, it will be “Fwd: ‘original subject’”
content (str): You can add additional content on a body of this forwarded message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.has_label">
<code class="sig-name descname">has_label</code><span class="sig-paren">(</span><em class="sig-param">label</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.has_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the message has a given label</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the flag is on the message else false</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.in_reply_to">
<em class="property">property </em><code class="sig-name descname">in_reply_to</code><a class="headerlink" href="#Message.Message.in_reply_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message ids in the in_reply_to field</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>List(str): List of in_reply_to message ids on the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.is_deleted">
<em class="property">property </em><code class="sig-name descname">is_deleted</code><a class="headerlink" href="#Message.Message.is_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Get if the message has been deleted</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message has been deleted</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.is_read">
<em class="property">property </em><code class="sig-name descname">is_read</code><a class="headerlink" href="#Message.Message.is_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Get if the message has been read</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message has been read</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.is_recent">
<em class="property">property </em><code class="sig-name descname">is_recent</code><a class="headerlink" href="#Message.Message.is_recent" title="Permalink to this definition">¶</a></dt>
<dd><p>Get if the message is recent</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message is recent</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.is_replied">
<em class="property">property </em><code class="sig-name descname">is_replied</code><a class="headerlink" href="#Message.Message.is_replied" title="Permalink to this definition">¶</a></dt>
<dd><p>Get if the message is replied</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message is replied</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.is_unread">
<em class="property">property </em><code class="sig-name descname">is_unread</code><a class="headerlink" href="#Message.Message.is_unread" title="Permalink to this definition">¶</a></dt>
<dd><p>Get if the message is unread</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message is unread</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.mark_read">
<code class="sig-name descname">mark_read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.mark_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a message as read.</p>
</dd></dl>

<dl class="method">
<dt id="Message.Message.mark_unread">
<code class="sig-name descname">mark_unread</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.mark_unread" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a message as unread</p>
</dd></dl>

<dl class="method">
<dt id="Message.Message.move">
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">dst_folder</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the message to another folder.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>dst_folder (str): a name of destination folder</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.priority">
<em class="property">property </em><code class="sig-name descname">priority</code><a class="headerlink" href="#Message.Message.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the user-defined priority of the message (Mutable)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The priority</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.recent_messages">
<code class="sig-name descname">recent_messages</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.recent_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the N Messages of this thread</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Message]: The messages in this thread before this message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.recipients">
<em class="property">property </em><code class="sig-name descname">recipients</code><a class="headerlink" href="#Message.Message.recipients" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to get a list of all the recipients of an email.</p>
<p>Returns the people in the to field, cc field, and bcc field 
Useful for doing things like getting the total number of people a message is sent to</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Contact]: All the visible recipients of an email</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.references">
<em class="property">property </em><code class="sig-name descname">references</code><a class="headerlink" href="#Message.Message.references" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message ids in the references field</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>List(str): List of references message ids on the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.remove_labels">
<code class="sig-name descname">remove_labels</code><span class="sig-paren">(</span><em class="sig-param">labels</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.remove_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove each of the flags in a list of labels from the message</p>
<dl class="simple">
<dt>Args: </dt><dd><p>labels (string[]): a list of labels to be added</p>
</dd>
</dl>
<p>This method can also optionally take a single string as a label.</p>
</dd></dl>

<dl class="method">
<dt id="Message.Message.reply">
<code class="sig-name descname">reply</code><span class="sig-paren">(</span><em class="sig-param">to=[]</em>, <em class="sig-param">cc=[]</em>, <em class="sig-param">bcc=[]</em>, <em class="sig-param">content=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.reply" title="Permalink to this definition">¶</a></dt>
<dd><p>Reply to the sender of this message</p>
<dl class="simple">
<dt>Args:</dt><dd><p>to (str): 
cc (str): 
bcc (str):
content (str):</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.reply_all">
<code class="sig-name descname">reply_all</code><span class="sig-paren">(</span><em class="sig-param">more_to=[]</em>, <em class="sig-param">more_cc=[]</em>, <em class="sig-param">more_bcc=[]</em>, <em class="sig-param">content=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.reply_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Reply to every recipient of this message</p>
<dl class="simple">
<dt>Args:</dt><dd><p>to (str): 
cc (str): 
bcc (str):
content (str):</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.reply_to">
<em class="property">property </em><code class="sig-name descname">reply_to</code><a class="headerlink" href="#Message.Message.reply_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Contacts the message is replied to</p>
<p>These are the addresses the message is meant to be sent to if the client
hits reply.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Contact]: The contacts in the reply_to field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.see_later">
<code class="sig-name descname">see_later</code><span class="sig-paren">(</span><em class="sig-param">later_at=60</em>, <em class="sig-param">hide_in='YouPS see later'</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.see_later" title="Permalink to this definition">¶</a></dt>
<dd><p>Hide a message to a folder and move it back to a original folder
this function is equivalent to following:</p>
<dl class="simple">
<dt>def f(msg):</dt><dd><p>msg.move(‘original_location’)</p>
</dd>
</dl>
<p>my_message.on_time(now+later_at, f)</p>
<dl>
<dt>Args:</dt><dd><p>later_at (int or datetime): when to move this message back to inbox (in minutes). You can also send datetime to set an absolute time</p>
<p>hide_in (string): a name of folder to hide this message temporarily</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.sender">
<em class="property">property </em><code class="sig-name descname">sender</code><a class="headerlink" href="#Message.Message.sender" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Contact the message is addressed from</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Contact: The contact in the from field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.subject">
<em class="property">property </em><code class="sig-name descname">subject</code><a class="headerlink" href="#Message.Message.subject" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Subject of the message</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The subject of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.task">
<em class="property">property </em><code class="sig-name descname">task</code><a class="headerlink" href="#Message.Message.task" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the user-defined task of the message (Mutable)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The tasks</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.thread">
<em class="property">property </em><code class="sig-name descname">thread</code><a class="headerlink" href="#Message.Message.thread" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of messages in this thread</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Message]: a list of Message instances</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.to">
<em class="property">property </em><code class="sig-name descname">to</code><a class="headerlink" href="#Message.Message.to" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Contacts the message is addressed to</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Contact]: The contacts in the to field of the message</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="property">
<h3>Property<a class="headerlink" href="#property" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">Message.</code><code class="sig-name descname">Message</code><span class="sig-paren">(</span><em class="sig-param">message_schema</em>, <em class="sig-param">imap_client</em>, <em class="sig-param">is_simulate=False</em><span class="sig-paren">)</span></dt>
<dd><dl class="method">
<dt>
<code class="sig-name descname">add_labels</code><span class="sig-paren">(</span><em class="sig-param">labels</em><span class="sig-paren">)</span></dt>
<dd><p>Add each of the label in a list of flags to the message</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">add_labels</span><span class="p">([</span><span class="s2">&quot;Todo&quot;</span><span class="p">,</span> <span class="s2">&quot;Family&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd>
<dt>Args: </dt><dd><p>labels (string[]): a list of flags to be added</p>
</dd>
</dl>
<p>This method can also optionally take a single string as a flag.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">aggregate_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Aggregate responses of messages in this thread and return a list of pairs of sender and their response</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">aggregate_response</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">someone1</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span><span class="p">,</span> <span class="s2">&quot;Hi all ...&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">someone2</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span><span class="p">,</span> <span class="s2">&quot;Dear all, ...&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</dd>
<dt>Returns:</dt><dd><p>t.List[(Contact, t.AnyStr)]: pairs of sender and their response</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">bcc</code></dt>
<dd><p>Get the Contacts the message is bcced to</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">bcc</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">someone1</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span><span class="p">,</span> <span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">someone2</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt>Returns:</dt><dd><p>t.List[Contact]: The contacts in the bcc field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">cc</code></dt>
<dd><p>Get the Contacts the message is cced to</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Contact]: The contacts in the cc field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span></dt>
<dd><p>check if a string is contained in the content of a message</p>
<dl class="simple">
<dt>Args:</dt><dd><p>string (str): string to check for</p>
</dd>
<dt>Returns:</dt><dd><p>bool: true if the passed in string is in the message content</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">content</code></dt>
<dd><p>Get the content of the message</p>
<p>See also Message.contains</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>dict {‘text’: t.AnyStr, ‘html’: t.AnyStr}: The content of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><em class="sig-param">dst_folder</em><span class="sig-paren">)</span></dt>
<dd><p>Copy the message to another folder.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>dst_folder (str): a name of destination folder</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">date</code></dt>
<dd><p>Get the date and time that the message was sent</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>datetime: The date and time the message was sent</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">deadline</code></dt>
<dd><p>Get the user-defined deadline of the message (Mutable). When the specified date time is come, user’s deadline handler will be executed.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>datetime: The deadline</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param">slient=False</em><span class="sig-paren">)</span></dt>
<dd><p>Move this message to your trash folder</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">extract_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>For the thread messages, only take out a body of <em>this message</em> without previous headers and contetns</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.AnyStr: extracted contents without previous messages contents in the thread</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">extract_time_entity</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>return any time entity (e.g., tomorrow, 3/24 2pm) mentioned in this message body using NLP</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[“body”: t.AnyStr, “start”: datetime, “end”: datetime]: list of {“body”: “text of the time entity” (string), “start”: “starting time” (datetime), “end”: “ending time” (datetime)}</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">flags</code></dt>
<dd><p>Get the flags on the message</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>List(str): List of flags on the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">folder</code></dt>
<dd><p>Get the Folder the message is contained in</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Folder: the folder that the message is contained in</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">to=[]</em>, <em class="sig-param">cc=[]</em>, <em class="sig-param">bcc=[]</em>, <em class="sig-param">subject=''</em>, <em class="sig-param">content=''</em><span class="sig-paren">)</span></dt>
<dd><p>forward a message</p>
<dl class="simple">
<dt>Args:</dt><dd><p>to (str): 
cc (str): 
bcc (str): 
subject (str): if none is given, it will be “Fwd: ‘original subject’”
content (str): You can add additional content on a body of this forwarded message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">has_label</code><span class="sig-paren">(</span><em class="sig-param">label</em><span class="sig-paren">)</span></dt>
<dd><p>Check if the message has a given label</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the flag is on the message else false</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">in_reply_to</code></dt>
<dd><p>Get the message ids in the in_reply_to field</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>List(str): List of in_reply_to message ids on the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">is_deleted</code></dt>
<dd><p>Get if the message has been deleted</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message has been deleted</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">is_read</code></dt>
<dd><p>Get if the message has been read</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message has been read</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">is_recent</code></dt>
<dd><p>Get if the message is recent</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message is recent</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">is_replied</code></dt>
<dd><p>Get if the message is replied</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message is replied</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">is_unread</code></dt>
<dd><p>Get if the message is unread</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool: True if the message is unread</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">mark_read</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Mark a message as read.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">mark_unread</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Mark a message as unread</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">dst_folder</em><span class="sig-paren">)</span></dt>
<dd><p>Move the message to another folder.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>dst_folder (str): a name of destination folder</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">priority</code></dt>
<dd><p>Get the user-defined priority of the message (Mutable)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The priority</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">recent_messages</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span></dt>
<dd><p>Get the N Messages of this thread</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Message]: The messages in this thread before this message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">recipients</code></dt>
<dd><p>Shortcut method to get a list of all the recipients of an email.</p>
<p>Returns the people in the to field, cc field, and bcc field 
Useful for doing things like getting the total number of people a message is sent to</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Contact]: All the visible recipients of an email</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">references</code></dt>
<dd><p>Get the message ids in the references field</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>List(str): List of references message ids on the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">remove_labels</code><span class="sig-paren">(</span><em class="sig-param">labels</em><span class="sig-paren">)</span></dt>
<dd><p>Remove each of the flags in a list of labels from the message</p>
<dl class="simple">
<dt>Args: </dt><dd><p>labels (string[]): a list of labels to be added</p>
</dd>
</dl>
<p>This method can also optionally take a single string as a label.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">reply</code><span class="sig-paren">(</span><em class="sig-param">to=[]</em>, <em class="sig-param">cc=[]</em>, <em class="sig-param">bcc=[]</em>, <em class="sig-param">content=''</em><span class="sig-paren">)</span></dt>
<dd><p>Reply to the sender of this message</p>
<dl class="simple">
<dt>Args:</dt><dd><p>to (str): 
cc (str): 
bcc (str):
content (str):</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">reply_all</code><span class="sig-paren">(</span><em class="sig-param">more_to=[]</em>, <em class="sig-param">more_cc=[]</em>, <em class="sig-param">more_bcc=[]</em>, <em class="sig-param">content=''</em><span class="sig-paren">)</span></dt>
<dd><p>Reply to every recipient of this message</p>
<dl class="simple">
<dt>Args:</dt><dd><p>to (str): 
cc (str): 
bcc (str):
content (str):</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">reply_to</code></dt>
<dd><p>Get the Contacts the message is replied to</p>
<p>These are the addresses the message is meant to be sent to if the client
hits reply.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Contact]: The contacts in the reply_to field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">see_later</code><span class="sig-paren">(</span><em class="sig-param">later_at=60</em>, <em class="sig-param">hide_in='YouPS see later'</em><span class="sig-paren">)</span></dt>
<dd><p>Hide a message to a folder and move it back to a original folder
this function is equivalent to following:</p>
<dl class="simple">
<dt>def f(msg):</dt><dd><p>msg.move(‘original_location’)</p>
</dd>
</dl>
<p>my_message.on_time(now+later_at, f)</p>
<dl>
<dt>Args:</dt><dd><p>later_at (int or datetime): when to move this message back to inbox (in minutes). You can also send datetime to set an absolute time</p>
<p>hide_in (string): a name of folder to hide this message temporarily</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">sender</code></dt>
<dd><p>Get the Contact the message is addressed from</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Contact: The contact in the from field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">subject</code></dt>
<dd><p>Get the Subject of the message</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The subject of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">task</code></dt>
<dd><p>Get the user-defined task of the message (Mutable)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The tasks</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">thread</code></dt>
<dd><p>Return a list of messages in this thread</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Message]: a list of Message instances</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">to</code></dt>
<dd><p>Get the Contacts the message is addressed to</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>t.List[Contact]: The contacts in the to field of the message</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="events-handler">
<h3>Events handler<a class="headerlink" href="#events-handler" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">Message.</code><code class="sig-name descname">Message</code><span class="sig-paren">(</span><em class="sig-param">message_schema</em>, <em class="sig-param">imap_client</em>, <em class="sig-param">is_simulate=False</em><span class="sig-paren">)</span></dt>
<dd><dl class="method">
<dt id="Message.Message.on_response">
<code class="sig-name descname">on_response</code><span class="sig-paren">(</span><em class="sig-param">handler</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.on_response" title="Permalink to this definition">¶</a></dt>
<dd><p>add an event handler that is triggered whenever a new response in the message’s thread</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">msg</span><span class="o">.</span><span class="n">mark_read</span><span class="p">()</span> <span class="c1"># Replies of this message will be marked read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">on_response</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Args:</dt><dd><p>handler (function): A function to execute each time when there are messaged arrvied to this thread. The function provides the newly arrived message as an argument</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Message.Message.on_time">
<code class="sig-name descname">on_time</code><span class="sig-paren">(</span><em class="sig-param">handler</em>, <em class="sig-param">later_at=60</em><span class="sig-paren">)</span><a class="headerlink" href="#Message.Message.on_time" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of minutes to wait before executing the code. If omitted, the value 60 is used</p>
<dl>
<dt>Args:</dt><dd><p>handler (function): A function that will be executed. The function provides this message instance as an argument</p>
<p>later_at (int or datetime): when to execute the handler (in minutes). You can also send datetime to set an absolute time</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="contact-object">
<h2>Contact object<a class="headerlink" href="#contact-object" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
<dl class="class">
<dt id="Contact.Contact">
<em class="property">class </em><code class="sig-prename descclassname">Contact.</code><code class="sig-name descname">Contact</code><span class="sig-paren">(</span><em class="sig-param">contact_schema</em>, <em class="sig-param">imap_client</em>, <em class="sig-param">is_simulate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Contact.Contact" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Contact.Contact.aliases">
<em class="property">property </em><code class="sig-name descname">aliases</code><a class="headerlink" href="#Contact.Contact.aliases" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the names associated with this contact</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>list: The names associated with this contact</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.email">
<em class="property">property </em><code class="sig-name descname">email</code><a class="headerlink" href="#Contact.Contact.email" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the email address associated with this contact</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The email address associated with this contact</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.geolocation">
<em class="property">property </em><code class="sig-name descname">geolocation</code><a class="headerlink" href="#Contact.Contact.geolocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the location of this contact (mutable)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The location associated with this contact</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.messages">
<code class="sig-name descname">messages</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span><a class="headerlink" href="#Contact.Contact.messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the N Messages which are exchanged with this contact
Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">messages</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">Message</span> <span class="nb">object</span> <span class="s2">&quot;Hello!&quot;</span><span class="p">,</span> <span class="n">Message</span> <span class="nb">object</span> <span class="s2">&quot;other message&quot;</span><span class="p">,</span> <span class="n">Message</span> <span class="nb">object</span> <span class="s2">&quot;another messages..&quot;</span><span class="p">]</span>
</pre></div>
</div>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the from/to/cc/bcc field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.messages_bcc">
<code class="sig-name descname">messages_bcc</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span><a class="headerlink" href="#Contact.Contact.messages_bcc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Messages which are bcc this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the bcc field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.messages_cc">
<code class="sig-name descname">messages_cc</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span><a class="headerlink" href="#Contact.Contact.messages_cc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Messages which are cc this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the cc field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.messages_from">
<code class="sig-name descname">messages_from</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span><a class="headerlink" href="#Contact.Contact.messages_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Messages which are from this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the from field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.messages_to">
<code class="sig-name descname">messages_to</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span><a class="headerlink" href="#Contact.Contact.messages_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Messages which are to this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the to field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#Contact.Contact.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name associated with this contact</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The name associated with this contact</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.organization">
<em class="property">property </em><code class="sig-name descname">organization</code><a class="headerlink" href="#Contact.Contact.organization" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the organization of this contact (mutable)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The organization associated with this contact</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="id1">
<h3>Property<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">Contact.</code><code class="sig-name descname">Contact</code><span class="sig-paren">(</span><em class="sig-param">contact_schema</em>, <em class="sig-param">imap_client</em>, <em class="sig-param">is_simulate=False</em><span class="sig-paren">)</span></dt>
<dd><dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">aliases</code></dt>
<dd><p>Get all the names associated with this contact</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>list: The names associated with this contact</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">email</code></dt>
<dd><p>Get the email address associated with this contact</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The email address associated with this contact</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">geolocation</code></dt>
<dd><p>Get the location of this contact (mutable)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The location associated with this contact</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">messages</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span></dt>
<dd><p>Get the N Messages which are exchanged with this contact
Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_message</span><span class="o">.</span><span class="n">sender</span><span class="o">.</span><span class="n">messages</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">Message</span> <span class="nb">object</span> <span class="s2">&quot;Hello!&quot;</span><span class="p">,</span> <span class="n">Message</span> <span class="nb">object</span> <span class="s2">&quot;other message&quot;</span><span class="p">,</span> <span class="n">Message</span> <span class="nb">object</span> <span class="s2">&quot;another messages..&quot;</span><span class="p">]</span>
</pre></div>
</div>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the from/to/cc/bcc field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">messages_bcc</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span></dt>
<dd><p>Get the Messages which are bcc this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the bcc field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">messages_cc</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span></dt>
<dd><p>Get the Messages which are cc this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the cc field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">messages_from</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span></dt>
<dd><p>Get the Messages which are from this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the from field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">messages_to</code><span class="sig-paren">(</span><em class="sig-param">N=3</em><span class="sig-paren">)</span></dt>
<dd><p>Get the Messages which are to this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>N (int): a number of recent messages you want (max:50)</p>
</dd>
<dt>Returns:</dt><dd><p>t.List[Message]: The messages where this contact is listed in the to field</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">name</code></dt>
<dd><p>Get the name associated with this contact</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The name associated with this contact</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">organization</code></dt>
<dd><p>Get the organization of this contact (mutable)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: The organization associated with this contact</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id2">
<h3>Events handler<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">Contact.</code><code class="sig-name descname">Contact</code><span class="sig-paren">(</span><em class="sig-param">contact_schema</em>, <em class="sig-param">imap_client</em>, <em class="sig-param">is_simulate=False</em><span class="sig-paren">)</span></dt>
<dd><dl class="method">
<dt id="Contact.Contact.on_message">
<code class="sig-name descname">on_message</code><span class="sig-paren">(</span><em class="sig-param">handler</em><span class="sig-paren">)</span><a class="headerlink" href="#Contact.Contact.on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>add an event handler that is triggered everytime when there is a new message arrived from this contact</p>
<dl class="simple">
<dt>Args:</dt><dd><p>handler (function): A function to execute each time when there are messaged arrvied to this thread. The function provides the newly arrived message as an argument</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Contact.Contact.on_time">
<code class="sig-name descname">on_time</code><span class="sig-paren">(</span><em class="sig-param">handler</em>, <em class="sig-param">later_at=60</em><span class="sig-paren">)</span><a class="headerlink" href="#Contact.Contact.on_time" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of minutes to wait before executing the handler.</p>
<dl>
<dt>Args:</dt><dd><p>handler (function): A function that will be executed. The function provides the contact object as an argument</p>
<p>later_at (int or datetime): when to execute the handler (in minutes). You can also send datetime to set an absolute time</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="utility-methods">
<h2>Utility methods<a class="headerlink" href="#utility-methods" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mailbox.MailBox">
<em class="property">class </em><code class="sig-prename descclassname">mailbox.</code><code class="sig-name descname">MailBox</code><span class="sig-paren">(</span><em class="sig-param">imap_account</em>, <em class="sig-param">imap_client</em>, <em class="sig-param">is_simulate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="mailbox.MailBox.ME">
<em class="property">property </em><code class="sig-name descname">ME</code><a class="headerlink" href="#mailbox.MailBox.ME" title="Permalink to this definition">¶</a></dt>
<dd><p>Return my Contact object</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ME</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">Contact</span> <span class="nb">object</span><span class="p">:</span> <span class="n">myemail</span><span class="nd">@mail</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
</dd>
<dt>Returns:</dt><dd><p>Contact: The contact in the from field of the message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mailbox.MailBox.create_draft">
<code class="sig-name descname">create_draft</code><span class="sig-paren">(</span><em class="sig-param">subject=''</em>, <em class="sig-param">to=''</em>, <em class="sig-param">cc=''</em>, <em class="sig-param">bcc=''</em>, <em class="sig-param">content=''</em><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox.create_draft" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a draft message and save it to user’s draft folder</p>
<dl>
<dt>Args:</dt><dd><p>subject (string): the subject line of the draft message</p>
<p>to (a single instance|list of string|Contact): addresses that go in to field</p>
<p>cc (a single instance|list of string|Contact): addresses that go in cc field</p>
<p>bcc (a single instance|list of string|Contact): addresses that go in bcc field</p>
<p>content (string): content of the draft message</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mailbox.MailBox.create_folder">
<code class="sig-name descname">create_folder</code><span class="sig-paren">(</span><em class="sig-param">folder_name</em><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox.create_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new folder</p>
<dl class="simple">
<dt>Args:</dt><dd><p>folder_name (string): a name of a new folder</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mailbox.MailBox.get_current_events">
<code class="sig-name descname">get_current_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox.get_current_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Get calendar events happening right now, if any</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_current_events</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;my event&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="s2">&quot;end&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>             <span class="s2">&quot;start_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-03-08 07:30&quot;</span><span class="p">,</span> <span class="s2">&quot;end_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-03-08 08:30&quot;</span><span class="p">},</span> <span class="o">..</span><span class="p">]</span> <span class="c1"># a list of events happening right now</span>
</pre></div>
</div>
</dd>
<dt>Returns:   </dt><dd><p>t.List[{“name”: t.AnyStr, “start”: datetime, “end”: datetime, “start_text”: t.AnyStr, “end_text”: t.AnyStr}]: a list of event information</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mailbox.MailBox.get_email_mode">
<code class="sig-name descname">get_email_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox.get_email_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Get name and uid of the your current mode</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_email_mode</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s2">&quot;my meeting mode&quot;</span><span class="p">,</span> <span class="mi">172</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mailbox.MailBox.get_upcoming_events">
<code class="sig-name descname">get_upcoming_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox.get_upcoming_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Get upcoming calendar events, if any</p>
<dl>
<dt>Examples:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_upcoming_events</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[]</span> <span class="c1"># no upcoming events</span>
</pre></div>
</div>
</dd>
<dt>Returns:   </dt><dd><p>t.List[{“name”: t.AnyStr, “start”: datetime, “end”: datetime, “start_text”: t.AnyStr, “end_text”: t.AnyStr}]: a list of event information</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mailbox.MailBox.rename_folder">
<code class="sig-name descname">rename_folder</code><span class="sig-paren">(</span><em class="sig-param">old_name</em>, <em class="sig-param">new_name</em><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox.rename_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a folder</p>
<dl class="simple">
<dt>Args:</dt><dd><p>old_name (string): a current name of a folder
new_name (string): a new name for the folder</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mailbox.MailBox.send">
<code class="sig-name descname">send</code><span class="sig-paren">(</span><em class="sig-param">subject=''</em>, <em class="sig-param">to=''</em>, <em class="sig-param">cc=''</em>, <em class="sig-param">bcc=''</em>, <em class="sig-param">body=''</em>, <em class="sig-param">body_html=''</em>, <em class="sig-param">smtp=''</em><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message</p>
<dl>
<dt>Args:</dt><dd><p>subject (string): the subject line of the draft message</p>
<p>to (a single instance|list of string|Contact): addresses that go in to field</p>
<p>cc (a single instance|list of string|Contact): addresses that go in cc field</p>
<p>bcc (a single instance|list of string|Contact): addresses that go in bcc field</p>
<p>body (string): plain text body of a message</p>
<p>body_html (string): html body of a message. Either body or body_html is required</p>
<p>smtp (string): a name of draft folder (optional)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mailbox.MailBox.set_email_mode">
<code class="sig-name descname">set_email_mode</code><span class="sig-paren">(</span><em class="sig-param">uid</em><span class="sig-paren">)</span><a class="headerlink" href="#mailbox.MailBox.set_email_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set your current mode to the given mode</p>
<dl class="simple">
<dt>Args:</dt><dd><p>uid (int): uid of one of your email mode</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


    </div>
    
  </div>
</div>
<div class="clearer"></div>
</div>
<div class="footer">
&copy;2020, Soya Park.

|
Powered by <a href="http://sphinx-doc.org/">Sphinx 2.3.1</a>
&amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>

|
<a href="_sources/index2.rst.txt"
    rel="nofollow">Page source</a>
</div>
  

    {% endblock %}

    {% block customjs %}

    <style>
      /* #message-object, .toctree-l2:first {
  background: lightgray;
} */
    </style>

    <script type="text/javascript" id="documentation_options" data-url_root="./" src="/static/javascript/third-party/sprinx/documentation_options.js"></script>
    <!-- <script type="text/javascript" src="/static/javascript/third-party/sprinx/jquery.js"></script> -->
    <script type="text/javascript" src="/static/javascript/third-party/sprinx/underscore.js"></script>
    <script type="text/javascript" src="/static/javascript/third-party/sprinx/doctools.js"></script>
    <script type="text/javascript" src="/static/javascript/third-party/sprinx/language_data.js"></script>
    
    <script type="text/javascript">
      var is_gmail = {{ is_gmail|yesno:"true,false" }};

      $( document ).ready(function() {
        // Hide class description
        $("dl.class").children("dt").remove();
  
        // Show only property and methods
        $("#message-object > .class").find("em.property").each(function (k, v) {
          $(v).parents("dl.method").remove();
        });
  
        $("#message-object > #property dl.method").hide();
  
        $("#message-object > #property").find("em.property").each(function (k, v) {
          $(v).parents("dl.method").show();
        });

        $("#contact-object > .class").find("em.property").each(function (k, v) {
          $(v).parents("dl.method").remove();
        });
  
        $("#contact-object > #id1 dl.method").hide();
  
        $("#contact-object > #id1").find("em.property").each(function (k, v) {
          $(v).parents("dl.method").show();
        });

        // Add link to contact object 
        $(".simple dd p").each(function(k, v) {
          $(v).html($(v).html().replace("Contact", "<a href='#contact-object'>Contact</a>"));
        })

        if(!is_gmail) {
          var l = ["Message.Message.add_labels", "Message.Message.has_label", "Message.Message.remove_labels"];
          $.each(l, function(k, v) {
            $(document.getElementById(v)).parent().remove();
          })
        }
        
    });
    </script>

    {% endblock %}