{% extends website|add:"/base.html" %}
{% block customcss %}
<link rel="stylesheet" href="/static/css/youps/libs/codemirror.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
<!-- <link rel="stylesheet" href="/static/css/youps/libs/fontawesome-all.min.css"> -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"> -->
<!-- Interactive console styles -->
<!-- <link rel="stylesheet" href="/static/css/youps/libs/sandbox.css" /> -->
<link rel="stylesheet" href="https://get.mavo.io/mavo.css">
<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">
<link rel="stylesheet" href="/static/css/youps/libs/prism.css">
<link rel="stylesheet" href="/static/css/youps/libs/jquery.switchButton.css" />
<link rel="stylesheet" href="/static/css/youps/libs/show-hint.css" />
<link rel="stylesheet" type="text/css" href="/static/css/youps/libs/qunit.css">
<link rel="stylesheet" href="/static/css/youps/libs/jsonpanel.css">
<link rel="stylesheet" href="/static/css/youps/history_table.css">
<link rel="stylesheet" href="/static/css/youps/style.css">
{% endblock %}

{% block content %}

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-139042591-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-139042591-1');
</script>
	
	<div class="sk-circle">
			<div class="sk-circle1 sk-child"></div>
			<div class="sk-circle2 sk-child"></div>
			<div class="sk-circle3 sk-child"></div>
			<div class="sk-circle4 sk-child"></div>
			<div class="sk-circle5 sk-child"></div>
			<div class="sk-circle6 sk-child"></div>
			<div class="sk-circle7 sk-child"></div>
			<div class="sk-circle8 sk-child"></div>
			<div class="sk-circle9 sk-child"></div>
			<div class="sk-circle10 sk-child"></div>
			<div class="sk-circle11 sk-child"></div>
			<div class="sk-circle12 sk-child"></div>
	</div>
	<div class="container">
		<div class="group-container">
			<p hidden id="website-name">{{website}}</p>

			<h3>YouPS shortcut editor</h3>
			<a style="float:right;" href="/button">Go back to Shortcut</a>
			<!-- <a href="/docs" style="float: right;margin-top: -30px;">View API docs</a> -->
			<hr>
			<div id="editor-container">
					<div>
					  <div class="card">
						<div class="card-block">
									<div class='editable-container' type='shortcut'>
                                    </div>
                                    
									<!-- editor add buttons -->
									<div class="btn-new-editor" type="shortcut">
												<div class="panel panel-primary">
													<div class="flex_container">
														<div class="flex_item_left"> 
															<i class="fas fa-3x fa-plus-circle"></i> 
														</div>
														
														<div class="panel-heading flex_item_right panel-collapsed">
															<h3 class="panel-title">
																<i class="fas fa-2x fa-terminal"></i> Create a shortcut handler <span class=""></span>
															</h3>
															
														</div>
													</div>	
												</div>
									</div>
						</div>
                      </div>
                      
					</div>
			  </div>

			  <div id="apis-container" style="display:none;" mv-app="api" mv-storage="https://github.com/haystack/YouPS">
					<div property="folder" >
						<div class='add-sidebar header' id="method"> <h3> Global Methods <a href="#folder-attr">¶</a></h3>   </div>
						<div id="[name]" class='add-sidebar sub-header' property="attribute" mv-multiple>
							<h4>[name] ([params]) <a href="#[name]"> ¶ </a> </h4>
							<span>[description]</span>
						</div>
					</div>

					<div property="message">
							<div class='add-sidebar sub-header' id="message-attr"> <h3> Attribute <a href="#message-attr">¶</a></h3>   </div>
							<div id="[name]" class='value' property="attribute" mv-multiple>
								<h4>[name]</h4>
								<span>[description]</span>
							</div>
		
							<div class='add-sidebar sub-header' id="message-method"> <h3> Method <a href="#message-method">¶</a></h3>   </div>
							<div id="[name]" class='value' property="method" mv-multiple>
									<h4>[name] ([params]) </h4>
									<span>[description]</span>
							</div>
					</div>

					<div property="contact">
							<div id="contact-attr" class='add-sidebar sub-header'> <h3> Attribute <a href="#contact-attr">¶</a></h3>   </div>
							<div id="[name]" class='value' property="attribute" mv-multiple>
								<h4>[name]</h4>
								<span>[description]</span>
							</div>
							<div id="contact-method" class='add-sidebar sub-header'> <h3> Method <a href="#contact-method">¶</a></h3>   </div>
							<div id="[name]" class='value' property="method" mv-multiple>
									<h4>[name] ([params]) </h4>
									<span>[description]</span>
							</div>
					</div>

					<div property="calendar">
							<div id="calendar-attr" class='add-sidebar sub-header'> <h3> Attribute <a href="#calendar-attr">¶</a></h3>   </div>
							<div id="[name]" class='value' property="attribute" mv-multiple>
								<h4>[name] </h4>
							</div>
							<div id="calendar-method" class='add-sidebar sub-header'> <h3> Method <a href="#calendar-method">¶</a></h3>   </div>
							<div id="[name]" class='value' property="method" mv-multiple>
									<h4>[name] ([params])</h4>
							</div>
						</div>
			  </div>
			  <!-- END editor col -->
		</div>
	</div>
	<script type="text/javascript">
		var user_email="{{ request.user.email }}",
			is_authenticated = {{ user.is_authenticated|yesno:"true,false" }},
			is_imap_authenticated = {{ imap_authenticated|yesno:"true,false" }},
			is_test = {{ is_test|yesno:"true,false" }},
			IS_RUNNING = {{ is_running|yesno:"true,false" }},
			IS_INITIALIZED = {{ is_running|yesno:"true,false" }},
			// FOLDERS = {{ folders|safe }},
			// RULE_FOLDER = {{ rule_folder|safe }},
			current_mode = "{{ current_mode.name }}",
			current_mode_id = "{{ current_mode.id }}";

	</script>


	<!-- <a href="/groups/{{group_info.name}}">Back to group info page</a> -->
{% endblock %}

{% block customjs %}
	<script type="text/javascript" src="/static/javascript/notify.js"></script>

	<script type="text/javascript" src="/static/javascript/youps/fontawesome-all.min.js"></script>
	<script type="text/javascript" src="/static/javascript/youps/codemirror.js"></script>
	<script type="text/javascript" src="/static/javascript/youps/addon/edit/matchbrackets.js"></script>
	<script type="text/javascript" src="/static/javascript/youps/python.js"></script>
	<script type="text/javascript" src="/static/javascript/youps/addon/hint/show-hint.js"></script>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js"></script>

	<script src="/static/javascript/youps/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/static/javascript/youps/jquery.switchButton.js"></script>

	<script type="text/javascript" src="/static/javascript/youps/prism.js"></script>
	<script src="/static/javascript/youps/mavo.min.js"></script>
	<!-- The JS Sandbox Console script (requires underscore, backbone and jquery): -->
	<!-- <script type="text/javascript" src="/static/javascript/youps/console/sandbox-console.js"></script> -->

	<!-- JSON Formatter -->
	<script src="/static/javascript/youps/qunit.js"></script>
    <script src="/static/javascript/youps/blanket.min.js"></script>
	<script src="/static/javascript/youps/Autolinker.js"></script>
	<script src="/static/javascript/youps/jsonpanel.js"></script>
	<script src="/static/javascript/youps/tests.js"></script>

	<script type="text/javascript" src="/static/javascript/youps/editor.js"></script>
	<script type="text/javascript" src="/static/javascript/youps/shortcut_editor.js"></script>

    <script>

		
        // window.onbeforeunload = function(event)
        // {
        //     return confirm("Confirm refresh");
        // };
    </script>
{% endblock %}
